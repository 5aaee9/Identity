//
   Created by Indexyz on 2017/4/11.

extends ./basic

block title
    title Identity · Member

block panel
        #chartContainer(style="height: 300px; width: 100%;")
        h4.font-center 最近十次登陆记录
        ul.login-info-list.mdl-list.font-center
            - for log in logs
                li.mdl-list__item.mdl-list__item--three-line
                    span.mdl-list__item-primary-content
                        i.material-icons.mdl-list__item-avatar person
                        span="登陆地址: " + log.ip
                        span.mdl-list__item-text-body=log.log
                    span.mdl-list__item-secondary-content
                        p=moment(log.date).fromNow()


block javascript
    script(src="/js/canvasjs.min.js")
    script(type='text/javascript').
        var chart = new CanvasJS.Chart("chartContainer", {
            exportEnabled: false,
            animationEnabled: true,
            title: {
                text: "过去7日登陆情况"
            },
            data: [{
                type: "splineArea",
                dataPoints: !{data}
            }]
        });
        chart.render();